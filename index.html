<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lions Gate Family Bureau ‚Äî Membership Portal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Crimson+Pro:wght@300;400;500;600;700&family=Work+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --color-bg-dark: #0a0e1a;
            --color-bg-card: #141824;
            --color-surface: #1a1f2e;
            --color-surface-elevated: #232938;
            --color-gold: #d4af37;
            --color-gold-light: #f4d03f;
            --color-gold-dark: #b8941e;
            --color-silver: #c0c0c0;
            --color-text-primary: #f5f5f7;
            --color-text-secondary: #a8aab7;
            --color-text-muted: #6b6d7a;
            --color-red: #ff3b30;
            --color-green: #34c759;
            --color-amber: #ff9500;
            --color-blue: #007aff;

            --font-heading: 'Playfair Display', serif;
            --font-body: 'Crimson Pro', serif;
            --font-sans: 'Work Sans', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: var(--color-bg-dark);
            color: var(--color-text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* AI-Powered 3D Background */
        #ai-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            background: radial-gradient(ellipse at center, transparent 0%, rgba(10, 14, 26, 0.3) 100%);
        }

        /* Main Layout */
        .app-container {
            position: relative;
            z-index: 2;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0;
        }

        /* Header */
        .main-header {
            background: rgba(20, 24, 36, 0.85);
            backdrop-filter: blur(30px);
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-img {
            height: 40px;
            width: auto;
            filter: brightness(1.1);
        }

        .bureau-title {
            font-family: var(--font-heading);
            font-size: 1.1rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            background: linear-gradient(135deg, var(--color-gold) 0%, var(--color-gold-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: none;
        }

        .header-status {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-family: var(--font-sans);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .status-badge.inactive {
            background: rgba(255, 59, 48, 0.15);
            color: var(--color-red);
            border: 1px solid var(--color-red);
            animation: pulseGlow 2s ease-in-out infinite;
        }

        .status-badge.active {
            background: rgba(52, 199, 89, 0.15);
            color: var(--color-green);
            border: 1px solid var(--color-green);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
        }

        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 59, 48, 0.7); }
            50% { box-shadow: 0 0 0 8px rgba(255, 59, 48, 0); }
        }

        /* Navigation */
        .main-nav {
            background: rgba(26, 31, 46, 0.5);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .nav-links {
            display: flex;
            list-style: none;
            padding: 0 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .nav-links li {
            flex-shrink: 0;
        }

        .nav-links a {
            display: block;
            padding: 1rem 1.5rem;
            color: var(--color-text-secondary);
            text-decoration: none;
            font-family: var(--font-sans);
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
            position: relative;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--color-gold);
            border-bottom-color: var(--color-gold);
        }

        /* Content Sections */
        .content-wrapper {
            padding: 2rem 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section {
            display: none;
            animation: fadeInUp 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Membership Card */
        .membership-card {
            background: linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(35, 41, 56, 0.8) 100%);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            box-shadow:
                0 20px 60px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(212, 175, 55, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            perspective: 1000px;
            margin-bottom: 2rem;
        }

        .membership-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                rgba(212, 175, 55, 0.1) 0%,
                transparent 40%,
                transparent 60%,
                rgba(212, 175, 55, 0.05) 100%);
            opacity: 0.5;
            pointer-events: none;
        }

        .membership-card.active-card::before {
            background: linear-gradient(135deg,
                rgba(52, 199, 89, 0.1) 0%,
                rgba(212, 175, 55, 0.1) 50%,
                rgba(212, 175, 55, 0.05) 100%);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
        }

        .card-logo {
            font-family: var(--font-heading);
            font-size: 1.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--color-gold) 0%, var(--color-gold-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card-status-indicator {
            padding: 0.4rem 0.9rem;
            border-radius: 16px;
            font-family: var(--font-sans);
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .card-status-indicator.not-validated {
            background: rgba(255, 59, 48, 0.2);
            color: var(--color-red);
            border: 1px solid var(--color-red);
        }

        .card-status-indicator.validated {
            background: rgba(52, 199, 89, 0.2);
            color: var(--color-green);
            border: 1px solid var(--color-green);
        }

        .card-body {
            position: relative;
            z-index: 2;
        }

        .member-name {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--color-gold);
            margin-bottom: 0.5rem;
            letter-spacing: 1px;
        }

        .event-details {
            margin: 1.5rem 0;
        }

        .event-title {
            font-family: var(--font-sans);
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--color-text-primary);
            margin-bottom: 0.5rem;
        }

        .event-celebrity {
            font-family: var(--font-body);
            font-size: 1.1rem;
            color: var(--color-text-secondary);
            font-style: italic;
            margin-bottom: 1rem;
        }

        .event-info {
            display: grid;
            gap: 0.5rem;
        }

        .event-info-item {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            font-size: 0.95rem;
            color: var(--color-text-secondary);
        }

        .event-info-label {
            font-weight: 600;
            color: var(--color-gold);
            min-width: 60px;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            position: relative;
            z-index: 2;
        }

        .member-id {
            font-family: var(--font-sans);
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        .member-id strong {
            color: var(--color-gold);
            font-weight: 600;
        }

        .qr-placeholder {
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(212, 175, 55, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: var(--color-text-muted);
            text-align: center;
            padding: 0.5rem;
            transition: all 0.3s ease;
        }

        .qr-placeholder.active-qr {
            background: rgba(212, 175, 55, 0.1);
            border-color: var(--color-gold);
            border-style: solid;
        }

        /* Metallic Seal */
        .metallic-seal {
            position: absolute;
            top: 50%;
            right: 2rem;
            transform: translateY(-50%);
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.3) 0%, transparent 50%),
                linear-gradient(135deg, #c0c0c0 0%, #8a8a8a 25%, #c0c0c0 50%, #666 75%, #c0c0c0 100%);
            box-shadow:
                0 4px 20px rgba(0, 0, 0, 0.5),
                inset 0 2px 5px rgba(255, 255, 255, 0.3),
                inset 0 -2px 5px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-heading);
            font-size: 0.7rem;
            font-weight: 900;
            text-align: center;
            color: #1a1f2e;
            padding: 1rem;
            line-height: 1.2;
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            animation: sealPulse 3s ease-in-out infinite;
            opacity: 0.4;
        }

        .metallic-seal.active-seal {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.5) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(212, 175, 55, 0.4) 0%, transparent 50%),
                linear-gradient(135deg, var(--color-gold-light) 0%, var(--color-gold) 25%, var(--color-gold-light) 50%, var(--color-gold-dark) 75%, var(--color-gold) 100%);
            box-shadow:
                0 8px 30px rgba(212, 175, 55, 0.5),
                inset 0 2px 8px rgba(255, 255, 255, 0.4),
                inset 0 -2px 8px rgba(0, 0, 0, 0.4);
            animation: sealShimmer 2s ease-in-out infinite;
            opacity: 1;
        }

        @keyframes sealPulse {
            0%, 100% { transform: translateY(-50%) scale(1); }
            50% { transform: translateY(-50%) scale(1.05); }
        }

        @keyframes sealShimmer {
            0%, 100% {
                filter: brightness(1) hue-rotate(0deg);
                transform: translateY(-50%) scale(1) rotateY(0deg);
            }
            50% {
                filter: brightness(1.2) hue-rotate(5deg);
                transform: translateY(-50%) scale(1.05) rotateY(10deg);
            }
        }

        /* Profile Section */
        .profile-grid {
            display: grid;
            gap: 2rem;
            grid-template-columns: 1fr;
        }

        .profile-card {
            background: rgba(26, 31, 46, 0.6);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--color-gold) 0%, var(--color-gold-dark) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-heading);
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-bg-dark);
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.4);
            object-fit: cover;
            overflow: hidden;
            border: 3px solid rgba(212, 175, 55, 0.5);
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info h2 {
            font-family: var(--font-heading);
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
            color: var(--color-gold);
        }

        .profile-member-id {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        .activation-alert {
            background: rgba(255, 59, 48, 0.1);
            border: 2px solid var(--color-red);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            animation: alertPulse 2s ease-in-out infinite;
        }

        .activation-alert.success {
            background: rgba(52, 199, 89, 0.1);
            border-color: var(--color-green);
            animation: none;
        }

        @keyframes alertPulse {
            0%, 100% { border-color: var(--color-red); }
            50% { border-color: rgba(255, 59, 48, 0.5); }
        }

        .alert-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .alert-icon {
            font-size: 1.5rem;
        }

        .alert-title {
            font-family: var(--font-sans);
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--color-red);
        }

        .activation-alert.success .alert-title {
            color: var(--color-green);
        }

        .countdown-timer {
            font-family: var(--font-sans);
            font-size: 1.2rem;
            font-weight: 600;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .countdown-timer.warning {
            color: var(--color-amber);
        }

        .countdown-timer.critical {
            color: var(--color-red);
            animation: blink 1s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: rgba(212, 175, 55, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(212, 175, 55, 0.1);
        }

        .stat-value {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--color-gold);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        .profile-actions {
            display: grid;
            gap: 1rem;
        }

        /* Buttons */
        .btn {
            padding: 0.9rem 1.5rem;
            border-radius: 12px;
            font-family: var(--font-sans);
            font-size: 0.95rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--color-gold) 0%, var(--color-gold-dark) 100%);
            color: var(--color-bg-dark);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: rgba(212, 175, 55, 0.1);
            color: var(--color-gold);
            border: 1px solid var(--color-gold);
        }

        .btn-secondary:hover {
            background: rgba(212, 175, 55, 0.2);
        }

        .btn-text {
            position: relative;
            z-index: 1;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-flex;
        }

        .tooltip-text {
            visibility: hidden;
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(20, 24, 36, 0.98);
            color: var(--color-text-primary);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-size: 0.85rem;
            white-space: nowrap;
            z-index: 1000;
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Forum Section */
        .forum-container {
            background: rgba(26, 31, 46, 0.6);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .forum-header {
            margin-bottom: 2rem;
        }

        .forum-header h2 {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            color: var(--color-gold);
            margin-bottom: 0.5rem;
        }

        .forum-messages {
            max-height: 500px;
            overflow-y: auto;
            margin-bottom: 1.5rem;
            padding-right: 0.5rem;
        }

        .forum-messages::-webkit-scrollbar {
            width: 6px;
        }

        .forum-messages::-webkit-scrollbar-track {
            background: rgba(212, 175, 55, 0.05);
            border-radius: 3px;
        }

        .forum-messages::-webkit-scrollbar-thumb {
            background: rgba(212, 175, 55, 0.3);
            border-radius: 3px;
        }

        .forum-message {
            background: rgba(35, 41, 56, 0.6);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 3px solid var(--color-gold);
            animation: slideIn 0.4s ease;
        }

        .forum-message.welcome-message {
            background: rgba(212, 175, 55, 0.1);
            border-left-color: var(--color-green);
            border-left-width: 4px;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .message-author {
            font-family: var(--font-sans);
            font-weight: 600;
            color: var(--color-gold);
        }

        .message-time {
            font-size: 0.8rem;
            color: var(--color-text-muted);
        }

        .message-content {
            color: var(--color-text-secondary);
            line-height: 1.6;
        }

        .forum-input-container {
            display: flex;
            gap: 1rem;
        }

        .forum-input {
            flex: 1;
            background: rgba(35, 41, 56, 0.6);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 12px;
            padding: 1rem;
            color: var(--color-text-primary);
            font-family: var(--font-body);
            font-size: 16px;
            resize: none;
            min-height: 60px;
        }

        .forum-input:focus {
            outline: none;
            border-color: var(--color-gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        /* Blog Section */
        .blog-section {
            display: grid;
            gap: 2rem;
        }

        .promotional-banner {
            position: relative;
            height: 400px;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .banner-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            text-align: center;
        }

        .banner-slide.active-slide {
            opacity: 1;
        }

        .banner-slide.style-1 {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #60a5fa 100%);
        }

        .banner-slide.style-2 {
            background:
                radial-gradient(circle at 20% 80%, rgba(236, 72, 153, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(59, 130, 246, 0.3) 0%, transparent 50%),
                linear-gradient(135deg, #581c87 0%, #7c3aed 100%);
        }

        .banner-slide.style-3 {
            background:
                linear-gradient(135deg, #064e3b 0%, #059669 50%, #10b981 100%);
        }

        .banner-slide.style-4 {
            background:
                radial-gradient(circle at 50% 50%, rgba(251, 191, 36, 0.2) 0%, transparent 70%),
                linear-gradient(135deg, #7c2d12 0%, #ea580c 50%, #fb923c 100%);
        }

        .banner-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
        }

        .banner-title {
            font-family: var(--font-heading);
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 1rem;
            color: #fff;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            line-height: 1.2;
        }

        .banner-subtitle {
            font-family: var(--font-sans);
            font-size: 1.3rem;
            margin-bottom: 2rem;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .banner-cta {
            display: inline-flex;
            padding: 1rem 2.5rem;
            background: rgba(255, 255, 255, 0.95);
            color: #1a1f2e;
            font-family: var(--font-sans);
            font-weight: 700;
            border-radius: 50px;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        }

        .banner-cta:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }

        .blog-posts {
            display: grid;
            gap: 2rem;
        }

        .blog-post {
            background: rgba(26, 31, 46, 0.6);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.2);
            transition: all 0.3s ease;
        }

        .blog-post:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .blog-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg,
                #ec4899 0%,
                #8b5cf6 25%,
                #3b82f6 50%,
                #06b6d4 75%,
                #10b981 100%);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .blog-image::before {
            content: 'üè∞‚ú®üé°üé†üé¢';
            position: absolute;
            font-size: 4rem;
            opacity: 0.3;
            animation: floatIcons 10s ease-in-out infinite;
        }

        @keyframes floatIcons {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(5deg); }
            66% { transform: translateY(10px) rotate(-5deg); }
        }

        .blog-content {
            padding: 2rem;
        }

        .blog-category {
            display: inline-block;
            padding: 0.4rem 1rem;
            background: rgba(212, 175, 55, 0.2);
            color: var(--color-gold);
            border-radius: 20px;
            font-family: var(--font-sans);
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1rem;
        }

        .blog-title {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            color: var(--color-gold);
            margin-bottom: 1rem;
        }

        .blog-excerpt {
            color: var(--color-text-secondary);
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            font-size: 0.9rem;
            color: var(--color-text-muted);
        }

        /* Modal System */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 1rem;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.show {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal {
            background: linear-gradient(135deg, #1a1f2e 0%, #232938 100%);
            border-radius: 20px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow:
                0 30px 90px rgba(0, 0, 0, 0.7),
                0 0 0 1px rgba(212, 175, 55, 0.3);
            animation: modalSlideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-header {
            padding: 2rem;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        .modal-title {
            font-family: var(--font-heading);
            font-size: 1.5rem;
            color: var(--color-gold);
            margin-bottom: 0.5rem;
        }

        .modal-subtitle {
            color: var(--color-text-secondary);
            font-size: 0.95rem;
        }

        .modal-body {
            padding: 2rem;
        }

        .warning-icon {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 1rem;
        }

        .warning-text {
            text-align: center;
            color: var(--color-text-secondary);
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .warning-text strong {
            color: var(--color-red);
            font-weight: 700;
        }

        .modal-actions {
            display: grid;
            gap: 1rem;
        }

        .inner-modal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #1a1f2e 0%, #232938 100%);
            border-radius: 16px;
            padding: 2rem;
            box-shadow:
                0 40px 100px rgba(0, 0, 0, 0.9),
                0 0 0 2px rgba(212, 175, 55, 0.4);
            z-index: 1001;
            width: 90%;
            max-width: 400px;
            animation: innerModalPop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes innerModalPop {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .activation-input-group {
            margin-bottom: 1.5rem;
        }

        .activation-label {
            display: block;
            font-family: var(--font-sans);
            font-weight: 600;
            color: var(--color-gold);
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
        }

        .activation-input {
            width: 100%;
            padding: 1rem;
            background: rgba(35, 41, 56, 0.8);
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 12px;
            color: var(--color-text-primary);
            font-family: var(--font-sans);
            font-size: 16px;
            text-align: center;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .activation-input:focus {
            outline: none;
            border-color: var(--color-gold);
            box-shadow: 0 0 0 4px rgba(212, 175, 55, 0.1);
        }

        .error-message {
            color: var(--color-red);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
            animation: shake 0.4s ease;
        }

        .error-message.show {
            display: block;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Success Animation */
        .success-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            animation: fadeIn 0.5s ease;
        }

        .success-overlay.show {
            display: flex;
        }

        .success-content {
            text-align: center;
            animation: successPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes successPop {
            from {
                opacity: 0;
                transform: scale(0.5);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .success-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
            animation: bounce 1s ease infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .success-title {
            font-family: var(--font-heading);
            font-size: 2.5rem;
            color: var(--color-green);
            margin-bottom: 0.5rem;
        }

        .success-message {
            font-family: var(--font-body);
            font-size: 1.3rem;
            color: var(--color-text-secondary);
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--color-gold);
            position: absolute;
            animation: confettiFall 3s linear;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Voice Control */
        .voice-control {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 999;
        }

        .voice-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--color-gold) 0%, var(--color-gold-dark) 100%);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 20px rgba(212, 175, 55, 0.4);
            transition: all 0.3s ease;
        }

        .voice-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(212, 175, 55, 0.6);
        }

        .voice-toggle.muted {
            background: rgba(107, 109, 122, 0.3);
            border: 2px solid var(--color-text-muted);
        }

        /* Responsive */
        @media (min-width: 768px) {
            .bureau-title {
                display: block;
            }

            .profile-grid {
                grid-template-columns: 2fr 1fr;
            }

            .blog-posts {
                grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            }

            .member-name {
                font-size: 2.2rem;
            }

            .banner-title {
                font-size: 4rem;
            }
        }

        @media (max-width: 768px) {
            .metallic-seal {
                width: 70px;
                height: 70px;
                font-size: 0.6rem;
                right: 1rem;
            }

            .banner-title {
                font-size: 2rem;
            }

            .banner-subtitle {
                font-size: 1rem;
            }

            .promotional-banner {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- AI-Powered 3D Background -->
    <canvas id="ai-background"></canvas>
    <div class="background-overlay"></div>

    <!-- Success Overlay -->
    <div class="success-overlay" id="successOverlay">
        <div class="success-content">
            <div class="success-icon">‚úì</div>
            <h1 class="success-title">Activation Successful!</h1>
            <p class="success-message">Welcome to Lions Gate Family Bureau</p>
        </div>
    </div>

    <!-- Activation Reminder Modal -->
    <div class="modal-overlay" id="reminderModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">‚ö†Ô∏è ACTION REQUIRED</h2>
                <p class="modal-subtitle">Your profile is not yet activated</p>
            </div>
            <div class="modal-body">
                <div class="warning-icon">‚ö†Ô∏è</div>
                <p class="warning-text">
                    Please activate now to unlock your membership benefits.<br>
                    <strong>Failure to activate within 24 hours will lead to complete termination and revocation of all access.</strong>
                </p>
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="openActivationModal()">
                        <span class="btn-text">Activate Now</span>
                    </button>
                    <button class="btn btn-secondary" onclick="requestHelp()">
                        <span class="btn-text">Request Help</span>
                    </button>
                    <button class="btn btn-secondary" onclick="closeReminderModal()">
                        <span class="btn-text">Remind Me Later</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Inner Activation Modal -->
        <div class="inner-modal" id="activationModal" style="display: none;">
            <h3 class="modal-title" style="margin-bottom: 1.5rem; text-align: center;">Enter Activation Code</h3>
            <div class="activation-input-group">
                <label class="activation-label">Six-Digit Activation Code</label>
                <input type="text" class="activation-input" id="activationCodeInput" placeholder="LG-XXXX-XX" maxlength="11" autocomplete="off">
                <div class="error-message" id="errorMessage">
                    Invalid activation code. Please check and try again.
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="requestActivationCode()">
                    <span class="btn-text">Request Activation Code</span>
                </button>
                <button class="btn btn-primary" onclick="confirmActivation()">
                    <span class="btn-text">Confirm</span>
                </button>
                <button class="btn btn-secondary" onclick="closeActivationModal()">
                    <span class="btn-text">Cancel</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="main-header">
            <div class="header-content">
                <div class="logo-section">
                    <img src="https://pfst.cf2.poecdn.net/base/image/e34394965f42fb4d47455f4f265bd825e596dd7a826aa30fae72bf76f2d568a0?w=275&h=183" alt="Lions Gate Films" class="logo-img">
                    <div class="bureau-title">Family Bureau</div>
                </div>
                <div class="header-status">
                    <div class="status-badge inactive" id="headerStatus">
                        <span class="status-indicator"></span>
                        <span id="headerStatusText">NOT VALIDATED</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <ul class="nav-links">
                <li><a href="#" class="nav-link active" data-section="dashboard">Dashboard</a></li>
                <li><a href="#" class="nav-link" data-section="profile">Profile</a></li>
                <li><a href="#" class="nav-link" data-section="forum">Community</a></li>
                <li><a href="#" class="nav-link" data-section="blog">Blog &amp; Media</a></li>
            </ul>
        </nav>

        <!-- Content -->
        <div class="content-wrapper">
            <!-- Dashboard Section -->
            <section class="section active" id="dashboard">
                <div class="membership-card" id="membershipCard">
                    <div class="card-header">
                        <div class="card-logo">LGF</div>
                        <div class="card-status-indicator not-validated" id="cardStatus">NOT VALIDATED</div>
                    </div>
                    <div class="card-body">
                        <h1 class="member-name">Denise Trumbauer</h1>
                        <div class="event-details">
                            <h2 class="event-title">Celebrity Meet &amp; Greet</h2>
                            <p class="event-celebrity">with Keanu Reeves</p>
                            <div class="event-info">
                                <div class="event-info-item">
                                    <span class="event-info-label">Date:</span>
                                    <span>15 January 2026</span>
                                </div>
                                <div class="event-info-item">
                                    <span class="event-info-label">Venue:</span>
                                    <span>Ocean Casino Resort</span>
                                </div>
                                <div class="event-info-item">
                                    <span class="event-info-label">Address:</span>
                                    <span>500 Boardwalk, Atlantic City, NJ 08401, United States</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="member-id">
                            Member ID: <strong>LGB-2026-000123</strong>
                        </div>
                        <div class="qr-placeholder" id="qrCode">
                            <span>QR Code<br>Inactive</span>
                        </div>
                    </div>
                    <div class="metallic-seal" id="metallicSeal">
                        NOT<br>VALIDATED
                    </div>
                </div>
            </section>

            <!-- Profile Section -->
            <section class="section" id="profile">
                <div class="profile-grid">
                    <div class="profile-card">
                        <div class="profile-header">
                            <div class="profile-avatar">
                                <img src="https://pfst.cf2.poecdn.net/base/image/71f64d1f0e7bab75571a23ec309393ed24578056370f23f63f8ee09efa7bbd64?w=914&h=1243" alt="Denise Trumbauer">
                            </div>
                            <div class="profile-info">
                                <h2>Denise Trumbauer</h2>
                                <p class="profile-member-id">LGB-2026-000123</p>
                            </div>
                        </div>

                        <div class="activation-alert" id="profileAlert">
                            <div class="alert-header">
                                <span class="alert-icon">‚ö†Ô∏è</span>
                                <h3 class="alert-title">INACTIVE ‚Äî PLEASE ACTIVATE</h3>
                            </div>
                            <p style="color: var(--color-text-secondary); margin-bottom: 1rem;">
                                Your membership requires immediate activation to access full privileges.
                            </p>
                            <div class="countdown-timer" id="countdownTimer">
                                ‚è±Ô∏è Time remaining: <span id="timeRemaining">24:00:00</span>
                            </div>
                        </div>

                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-value">100</div>
                                <div class="stat-label">Points</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">Starter</div>
                                <div class="stat-label">Level</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">1</div>
                                <div class="stat-label">Badges</div>
                            </div>
                        </div>

                        <p style="color: var(--color-text-secondary); margin-bottom: 1.5rem; line-height: 1.6;">
                            <strong>Address:</strong><br>
                            1156 Piedmont Road<br>
                            Venice, FL 34293
                        </p>

                        <div class="profile-actions">
                            <div class="tooltip">
                                <button class="btn btn-primary" id="downloadCardBtn" disabled onclick="downloadCard()">
                                    <span class="btn-text">üì• Download Digital Card</span>
                                </button>
                                <span class="tooltip-text" id="downloadTooltip">Activate to enable</span>
                            </div>

                            <button class="btn btn-secondary" onclick="requestPhysicalCard()">
                                <span class="btn-text">üìÆ Request Physical Card</span>
                            </button>
                        </div>

                        <p style="color: var(--color-text-muted); font-size: 0.9rem; margin-top: 1.5rem; text-align: center;">
                            Please activate your profile to gain full access to rewards, downloads, and event privileges.
                        </p>
                    </div>

                    <div class="profile-card">
                        <h3 style="font-family: var(--font-heading); color: var(--color-gold); margin-bottom: 1rem;">Badges</h3>
                        <div style="text-align: center; padding: 2rem;">
                            <div style="font-size: 3rem; margin-bottom: 0.5rem;">üèÖ</div>
                            <p style="color: var(--color-text-secondary);">Welcome Starter</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Forum Section -->
            <section class="section" id="forum">
                <div class="forum-container">
                    <div class="forum-header">
                        <h2>Community Forum</h2>
                        <p style="color: var(--color-text-secondary);">Connect with fellow members</p>
                    </div>

                    <div class="forum-messages" id="forumMessages">
                        <div class="forum-message">
                            <div class="message-header">
                                <span class="message-author">James Martinez</span>
                                <span class="message-time">2 hours ago</span>
                            </div>
                            <div class="message-content">
                                Just got back from the advance screening in LA! The new film is absolutely incredible. Can't wait for you all to see it!
                            </div>
                        </div>

                        <div class="forum-message">
                            <div class="message-header">
                                <span class="message-author">Sarah Chen</span>
                                <span class="message-time">5 hours ago</span>
                            </div>
                            <div class="message-content">
                                Has anyone else received their exclusive merchandise package yet? The quality is outstanding!
                            </div>
                        </div>

                        <div class="forum-message">
                            <div class="message-header">
                                <span class="message-author">Michael Roberts</span>
                                <span class="message-time">8 hours ago</span>
                            </div>
                            <div class="message-content">
                                Welcome to all our new members! Don't forget to activate your profiles to unlock all the amazing benefits.
                            </div>
                        </div>
                    </div>

                    <div class="forum-input-container">
                        <textarea class="forum-input" id="forumInput" placeholder="Share your thoughts with the community..."></textarea>
                        <button class="btn btn-primary" onclick="postForumMessage()" style="align-self: flex-end;">
                            <span class="btn-text">Post</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Blog Section -->
            <section class="section" id="blog">
                <div class="blog-section">
                    <!-- Promotional Banner -->
                    <div class="promotional-banner" id="promotionalBanner">
                        <div class="banner-slide style-1 active-slide">
                            <div class="banner-content">
                                <h1 class="banner-title">Disneyland Paris 2025</h1>
                                <p class="banner-subtitle">An Unforgettable Adventure Awaits Next Month!</p>
                                <a href="#" class="banner-cta">Learn More</a>
                            </div>
                        </div>

                        <div class="banner-slide style-2">
                            <div class="banner-content">
                                <h1 class="banner-title">Magic is Coming</h1>
                                <p class="banner-subtitle">Experience the Wonder ‚Ä¢ February 2025</p>
                                <a href="#" class="banner-cta">Reserve Your Spot</a>
                            </div>
                        </div>

                        <div class="banner-slide style-3">
                            <div class="banner-content">
                                <h1 class="banner-title">Paris Awaits</h1>
                                <p class="banner-subtitle">Exclusive Member Experience ‚Ä¢ Limited Availability</p>
                                <a href="#" class="banner-cta">Join the Adventure</a>
                            </div>
                        </div>

                        <div class="banner-slide style-4">
                            <div class="banner-content">
                                <h1 class="banner-title">Dream. Believe. Experience.</h1>
                                <p class="banner-subtitle">Disneyland Paris ‚Ä¢ VIP Access for Members</p>
                                <a href="#" class="banner-cta">Get Tickets</a>
                            </div>
                        </div>
                    </div>

                    <!-- Blog Posts -->
                    <div class="blog-posts">
                        <article class="blog-post">
                            <div class="blog-image"></div>
                            <div class="blog-content">
                                <span class="blog-category">Upcoming Event</span>
                                <h2 class="blog-title">Disneyland Paris Experience 2025</h2>
                                <p class="blog-excerpt">
                                    Get ready for a magical journey! Next month, Lions Gate Family Bureau members will have exclusive access to a spectacular Disneyland Paris experience. From thrilling attractions to enchanting character meet-and-greets, this adventure promises unforgettable memories for the whole family. Members enjoy VIP perks including priority access, special viewing areas, and exclusive dining experiences. Don't miss this once-in-a-lifetime opportunity to create magical moments!
                                </p>
                                <div class="blog-meta">
                                    <span>üìÖ February 2025</span>
                                    <span>üéüÔ∏è Member Exclusive</span>
                                </div>
                            </div>
                        </article>

                        <article class="blog-post">
                            <div class="blog-image" style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); font-size: 3rem;">
                                üé¨üåüüé≠
                            </div>
                            <div class="blog-content">
                                <span class="blog-category">News</span>
                                <h2 class="blog-title">Exclusive Member Benefits</h2>
                                <p class="blog-excerpt">
                                    Discover all the incredible perks available to Lions Gate Family Bureau members. From priority event access to exclusive merchandise, advance screenings, and special meet-and-greets with celebrities, your membership unlocks a world of entertainment opportunities.
                                </p>
                                <div class="blog-meta">
                                    <span>üìÖ Updated Daily</span>
                                    <span>‚ú® Premium Content</span>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Voice Control -->
    <div class="voice-control">
        <button class="voice-toggle" id="voiceToggle" onclick="toggleVoice()" aria-label="Toggle voice assistant">
            üîä
        </button>
    </div>

    <script>
        // Global State
        let isActivated = false;
        let voiceEnabled = true;
        let reminderInterval;
        let countdownInterval;
        let bannerInterval;
        let forumRefreshInterval;
        let countdownSeconds = 24 * 60 * 60;

        // AI Background Variables
        let scene, camera, renderer;
        let particles = [];
        let waves = [];
        let currentMood = 'neutral';

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initAIBackground();
            initializeNavigation();
            startReminderTimer();
            startCountdownTimer();
            startBannerRotation();
            startForumRefresh();
            speakWelcome();
            startMoodDetection();
        });

        // AI-Powered 3D Background
        function initAIBackground() {
            const canvas = document.getElementById('ai-background');
            scene = new THREE.Scene();

            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 30;

            renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x000000, 0);

            // Create particle system
            createParticleSystem();

            // Create wave geometry
            createWaveGeometry();

            // Handle window resize
            window.addEventListener('resize', onWindowResize);

            // Start animation
            animateBackground();
        }

        function createParticleSystem() {
            const particleCount = 1000;
            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount * 3; i += 3) {
                positions[i] = (Math.random() - 0.5) * 100;
                positions[i + 1] = (Math.random() - 0.5) * 100;
                positions[i + 2] = (Math.random() - 0.5) * 100;

                const color = new THREE.Color();
                color.setHSL(Math.random() * 0.1 + 0.1, 0.8, 0.5);
                colors[i] = color.r;
                colors[i + 1] = color.g;
                colors[i + 2] = color.b;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            const material = new THREE.PointsMaterial({
                size: 0.3,
                vertexColors: true,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending
            });

            const particleSystem = new THREE.Points(geometry, material);
            scene.add(particleSystem);
            particles.push(particleSystem);
        }

        function createWaveGeometry() {
            const geometry = new THREE.PlaneGeometry(100, 100, 50, 50);
            const material = new THREE.MeshBasicMaterial({
                color: 0xd4af37,
                wireframe: true,
                transparent: true,
                opacity: 0.1
            });

            const wave = new THREE.Mesh(geometry, material);
            wave.rotation.x = -Math.PI / 2;
            wave.position.y = -20;
            scene.add(wave);
            waves.push(wave);
        }

        function animateBackground() {
            requestAnimationFrame(animateBackground);

            const time = Date.now() * 0.0005;

            // Animate particles
            particles.forEach((particleSystem, index) => {
                particleSystem.rotation.y = time * 0.1;
                particleSystem.rotation.x = time * 0.05;

                const positions = particleSystem.geometry.attributes.position.array;
                for (let i = 0; i < positions.length; i += 3) {
                    positions[i + 1] += Math.sin(time + i) * 0.01;
                }
                particleSystem.geometry.attributes.position.needsUpdate = true;
            });

            // Animate waves
            waves.forEach((wave) => {
                const positions = wave.geometry.attributes.position.array;
                for (let i = 0; i < positions.length; i += 3) {
                    const x = positions[i];
                    const y = positions[i + 1];
                    positions[i + 2] = Math.sin(x * 0.1 + time) * 2 + Math.cos(y * 0.1 + time) * 2;
                }
                wave.geometry.attributes.position.needsUpdate = true;
            });

            // Update background based on mood and time
            updateBackgroundMood();

            renderer.render(scene, camera);
        }

        function updateBackgroundMood() {
            const hour = new Date().getHours();
            let targetColor;

            // Time-based color changes
            if (hour >= 5 && hour < 12) {
                // Morning - soft blue/gold
                targetColor = new THREE.Color(0.2, 0.3, 0.8);
            } else if (hour >= 12 && hour < 17) {
                // Afternoon - warm gold
                targetColor = new THREE.Color(0.9, 0.7, 0.3);
            } else if (hour >= 17 && hour < 21) {
                // Evening - purple/orange
                targetColor = new THREE.Color(0.6, 0.3, 0.7);
            } else {
                // Night - deep blue/purple
                targetColor = new THREE.Color(0.1, 0.1, 0.3);
            }

            // Mood-based modifications
            switch(currentMood) {
                case 'excited':
                    targetColor.r += 0.2;
                    targetColor.g += 0.1;
                    break;
                case 'calm':
                    targetColor.b += 0.2;
                    targetColor.g += 0.1;
                    break;
                case 'urgent':
                    targetColor.r += 0.3;
                    break;
            }

            // Smoothly transition particle colors
            particles.forEach((particleSystem) => {
                const colors = particleSystem.geometry.attributes.color.array;
                for (let i = 0; i < colors.length; i += 3) {
                    colors[i] += (targetColor.r - colors[i]) * 0.01;
                    colors[i + 1] += (targetColor.g - colors[i + 1]) * 0.01;
                    colors[i + 2] += (targetColor.b - colors[i + 2]) * 0.01;
                }
                particleSystem.geometry.attributes.color.needsUpdate = true;
            });
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Mood Detection System
        function startMoodDetection() {
            setInterval(() => {
                detectMood();
            }, 5000);
        }

        function detectMood() {
            // Detect mood based on user interactions and time
            if (!isActivated) {
                currentMood = 'urgent';
            } else {
                const hour = new Date().getHours();
                if (hour >= 5 && hour < 12) {
                    currentMood = 'calm';
                } else if (hour >= 12 && hour < 21) {
                    currentMood = 'excited';
                } else {
                    currentMood = 'calm';
                }
            }
        }

        // Navigation
        function initializeNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.section');

            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();

                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');

                    const sectionId = this.getAttribute('data-section');
                    sections.forEach(section => {
                        section.classList.remove('active');
                        if (section.id === sectionId) {
                            section.classList.add('active');
                        }
                    });
                });
            });
        }

        // Reminder Timer
        function startReminderTimer() {
            if (!isActivated) {
                setTimeout(() => {
                    if (!isActivated) {
                        showReminderModal();
                    }
                }, 2000);

                reminderInterval = setInterval(() => {
                    if (!isActivated) {
                        showReminderModal();
                    }
                }, 10 * 60 * 1000);
            }
        }

        function showReminderModal() {
            document.getElementById('reminderModal').classList.add('show');
            speak("Denise, your membership is not activated. Please enter your activation code to proceed.");
        }

        function closeReminderModal() {
            document.getElementById('reminderModal').classList.remove('show');
            document.getElementById('activationModal').style.display = 'none';
        }

        function openActivationModal() {
            document.getElementById('activationModal').style.display = 'block';
            document.getElementById('activationCodeInput').focus();
        }

        function closeActivationModal() {
            document.getElementById('activationModal').style.display = 'none';
            document.getElementById('errorMessage').classList.remove('show');
            document.getElementById('activationCodeInput').value = '';
        }

        // Email Redirects
        function requestHelp() {
            const subject = encodeURIComponent('Request Help ‚Äî LGB-2026-000123');
            const body = encodeURIComponent('Dear Lions Gate Family Bureau Support,\n\nI am requesting assistance with my membership account.\n\nName: Denise Trumbauer\nMember ID: LGB-2026-000123\n\nPlease help me with:\n\n\nThank you,\nDenise Trumbauer');

            window.location.href = `https://mail.google.com/mail/?view=cm&fs=1&to=org.lionsgate@gmail.com&su=${subject}&body=${body}`;
        }

        function requestActivationCode() {
            const subject = encodeURIComponent('Request Activation Code ‚Äî LGB-2026-000123');
            const body = encodeURIComponent('Dear Lions Gate Family Bureau Support,\n\nI am requesting my activation code for my membership account.\n\nName: Denise Trumbauer\nMember ID: LGB-2026-000123\n\nPlease send me my activation code at your earliest convenience.\n\nThank you,\nDenise Trumbauer');

            window.location.href = `https://mail.google.com/mail/?view=cm&fs=1&to=org.lionsgate@gmail.com&su=${subject}&body=${body}`;
        }

        function requestPhysicalCard() {
            const subject = encodeURIComponent('Request Physical Card ‚Äî LGB-2026-000123');
            const body = encodeURIComponent('Dear Lions Gate Family Bureau Support,\n\nI would like to request a physical membership card.\n\nName: Denise Trumbauer\nMember ID: LGB-2026-000123\nShipping Address:\n1156 Piedmont Road\nVenice, FL 34293\n\nThank you,\nDenise Trumbauer');

            window.location.href = `https://mail.google.com/mail/?view=cm&fs=1&to=org.lionsgate@gmail.com&su=${subject}&body=${body}`;
        }

        // Activation
        function confirmActivation() {
            const input = document.getElementById('activationCodeInput');
            const code = input.value.trim();
            const errorMsg = document.getElementById('errorMessage');

            if (code === 'LG-2603-DT') {
                activateAccount();
            } else {
                errorMsg.classList.add('show');
                input.value = '';
                input.focus();
                setTimeout(() => {
                    errorMsg.classList.remove('show');
                }, 3000);
            }
        }

        function activateAccount() {
            isActivated = true;

            clearInterval(reminderInterval);
            clearInterval(countdownInterval);

            closeReminderModal();
            showSuccessAnimation();

            setTimeout(() => {
                updateUIToActive();
                speak("Activation successful! Welcome to the Lions Gate Family Bureau, Denise.");
                addWelcomeForumMessages();
            }, 2000);
        }

        function showSuccessAnimation() {
            const overlay = document.getElementById('successOverlay');
            overlay.classList.add('show');

            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    createConfetti();
                }, i * 30);
            }

            setTimeout(() => {
                overlay.classList.remove('show');
            }, 3000);
        }

        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.background = ['#d4af37', '#34c759', '#007aff', '#ff9500'][Math.floor(Math.random() * 4)];
            document.getElementById('successOverlay').appendChild(confetti);
            setTimeout(() => confetti.remove(), 3000);
        }

        function updateUIToActive() {
            const headerStatus = document.getElementById('headerStatus');
            headerStatus.classList.remove('inactive');
            headerStatus.classList.add('active');
            document.getElementById('headerStatusText').textContent = 'VALIDATED';

            const cardStatus = document.getElementById('cardStatus');
            cardStatus.classList.remove('not-validated');
            cardStatus.classList.add('validated');
            cardStatus.textContent = 'VALIDATED';

            document.getElementById('membershipCard').classList.add('active-card');

            const qrCode = document.getElementById('qrCode');
            qrCode.classList.add('active-qr');
            qrCode.innerHTML = '<span>QR Code<br>Active</span>';

            const seal = document.getElementById('metallicSeal');
            seal.classList.add('active-seal');
            seal.innerHTML = 'OFFICIAL<br>MEMBER';

            const profileAlert = document.getElementById('profileAlert');
            profileAlert.classList.add('success');
            profileAlert.innerHTML = `
                <div class="alert-header">
                    <span class="alert-icon">‚úì</span>
                    <h3 class="alert-title">ACTIVE ‚Äî VALIDATED</h3>
                </div>
                <p style="color: var(--color-text-secondary);">
                    Your membership is now fully activated! Enjoy all your exclusive benefits.
                </p>
            `;

            const downloadBtn = document.getElementById('downloadCardBtn');
            downloadBtn.disabled = false;
            document.getElementById('downloadTooltip').textContent = 'Download your digital membership card';

            currentMood = 'excited';
        }

        function downloadCard() {
            if (!isActivated) return;

            const cardHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Lions Gate Family Bureau - Membership Card</title>
                    <style>
                        body { font-family: Arial, sans-serif; padding: 40px; background: #f5f5f5; }
                        .card { background: linear-gradient(135deg, #1a1f2e 0%, #232938 100%); color: #f5f5f7; padding: 40px; border-radius: 20px; max-width: 600px; margin: 0 auto; }
                        h1 { color: #d4af37; font-size: 32px; margin-bottom: 10px; }
                        .status { color: #34c759; font-weight: bold; }
                        .info { margin: 20px 0; line-height: 1.8; }
                    </style>
                </head>
                <body>
                    <div class="card">
                        <h1>Lions Gate Family Bureau</h1>
                        <p class="status">‚úì VALIDATED MEMBER</p>
                        <div class="info">
                            <p><strong>Member:</strong> Denise Trumbauer</p>
                            <p><strong>Member ID:</strong> LGB-2026-000123</p>
                            <p><strong>Event:</strong> Celebrity Meet & Greet with Keanu Reeves</p>
                            <p><strong>Date:</strong> 15 January 2026</p>
                            <p><strong>Venue:</strong> Ocean Casino Resort<br>500 Boardwalk, Atlantic City, NJ 08401</p>
                        </div>
                    </div>
                </body>
                </html>
            `;

            const blob = new Blob([cardHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'LGB-Membership-Card-Denise-Trumbauer.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Countdown Timer
        function startCountdownTimer() {
            countdownInterval = setInterval(() => {
                if (!isActivated && countdownSeconds > 0) {
                    countdownSeconds--;
                    updateCountdownDisplay();
                }
            }, 1000);
        }

        function updateCountdownDisplay() {
            const hours = Math.floor(countdownSeconds / 3600);
            const minutes = Math.floor((countdownSeconds % 3600) / 60);
            const seconds = countdownSeconds % 60;

            const display = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            const timeElement = document.getElementById('timeRemaining');
            const timerElement = document.getElementById('countdownTimer');

            if (timeElement) {
                timeElement.textContent = display;
            }

            if (timerElement) {
                timerElement.classList.remove('warning', 'critical');
                if (hours < 1) {
                    timerElement.classList.add('critical');
                } else if (hours < 12) {
                    timerElement.classList.add('warning');
                }
            }
        }

        // Banner Rotation
        function startBannerRotation() {
            const slides = document.querySelectorAll('.banner-slide');
            let currentSlide = 0;

            bannerInterval = setInterval(() => {
                slides[currentSlide].classList.remove('active-slide');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active-slide');
            }, 5000);
        }

        // Forum
        function postForumMessage() {
            const input = document.getElementById('forumInput');
            const message = input.value.trim();

            if (!message) return;

            const messagesContainer = document.getElementById('forumMessages');

            const userMessage = document.createElement('div');
            userMessage.className = 'forum-message';
            userMessage.innerHTML = `
                <div class="message-header">
                    <span class="message-author">Denise Trumbauer</span>
                    <span class="message-time">Just now</span>
                </div>
                <div class="message-content">${escapeHtml(message)}</div>
            `;
            messagesContainer.appendChild(userMessage);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            input.value = '';

            setTimeout(() => {
                const responses = [
                    "Great to hear from you, Denise! Welcome to our community!",
                    "Thanks for sharing, Denise! We're excited to have you here.",
                    "That's wonderful, Denise! Feel free to explore all our exclusive content.",
                    "Welcome aboard, Denise! Don't hesitate to reach out if you have any questions."
                ];

                const aiMessage = document.createElement('div');
                aiMessage.className = 'forum-message';
                aiMessage.innerHTML = `
                    <div class="message-header">
                        <span class="message-author">Community Manager</span>
                        <span class="message-time">Just now</span>
                    </div>
                    <div class="message-content">${responses[Math.floor(Math.random() * responses.length)]}</div>
                `;
                messagesContainer.appendChild(aiMessage);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 2000);
        }

        function addWelcomeForumMessages() {
            const messagesContainer = document.getElementById('forumMessages');

            const welcomeMessages = [
                {
                    author: 'System',
                    content: 'üéâ Welcome to the Lions Gate Family Bureau, Denise! Your account has been successfully activated.',
                    isWelcome: true
                },
                {
                    author: 'Jennifer Adams',
                    content: 'Welcome, Denise! So excited to have you in our community. Looking forward to seeing you at the events!'
                },
                {
                    author: 'David Thompson',
                    content: 'Hi Denise! Welcome aboard! Make sure to check out the Disneyland Paris event coming up next month!'
                },
                {
                    author: 'Lisa Wang',
                    content: 'Welcome to the family, Denise! üåü Can\'t wait to connect with you at future events!'
                }
            ];

            welcomeMessages.forEach((msg, index) => {
                setTimeout(() => {
                    const messageEl = document.createElement('div');
                    messageEl.className = msg.isWelcome ? 'forum-message welcome-message' : 'forum-message';
                    messageEl.innerHTML = `
                        <div class="message-header">
                            <span class="message-author">${msg.author}</span>
                            <span class="message-time">Just now</span>
                        </div>
                        <div class="message-content">${msg.content}</div>
                    `;
                    messagesContainer.appendChild(messageEl);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }, index * 1000);
            });
        }

        function startForumRefresh() {
            const sampleMessages = [
                { author: 'Emma Wilson', content: 'Just finished watching the latest release. Absolutely phenomenal!' },
                { author: 'Carlos Rodriguez', content: 'The exclusive behind-the-scenes content is amazing!' },
                { author: 'Nina Patel', content: 'Looking forward to the next member event!' }
            ];

            forumRefreshInterval = setInterval(() => {
                if (Math.random() > 0.7) {
                    const messagesContainer = document.getElementById('forumMessages');
                    const randomMsg = sampleMessages[Math.floor(Math.random() * sampleMessages.length)];

                    const messageEl = document.createElement('div');
                    messageEl.className = 'forum-message';
                    messageEl.innerHTML = `
                        <div class="message-header">
                            <span class="message-author">${randomMsg.author}</span>
                            <span class="message-time">Just now</span>
                        </div>
                        <div class="message-content">${randomMsg.content}</div>
                    `;
                    messagesContainer.appendChild(messageEl);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }
            }, 30000);
        }

        // Voice Support
        function speak(text) {
            if (!voiceEnabled || !('speechSynthesis' in window)) return;

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9;
            utterance.pitch = 1;
            utterance.volume = 0.8;

            const voices = speechSynthesis.getVoices();
            const preferredVoice = voices.find(voice =>
                voice.name.includes('Female') ||
                voice.name.includes('Samantha') ||
                voice.name.includes('Karen')
            );
            if (preferredVoice) {
                utterance.voice = preferredVoice;
            }

            speechSynthesis.speak(utterance);
        }

        function speakWelcome() {
            setTimeout(() => {
                speak("Welcome, Denise. Your membership portal is ready.");
            }, 1000);
        }

        function toggleVoice() {
            voiceEnabled = !voiceEnabled;
            const btn = document.getElementById('voiceToggle');

            if (voiceEnabled) {
                btn.classList.remove('muted');
                btn.textContent = 'üîä';
                speak("Voice assistance enabled.");
            } else {
                btn.classList.add('muted');
                btn.textContent = 'üîá';
                speechSynthesis.cancel();
            }
        }

        // Utility
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Keyboard support
        document.addEventListener('keydown', function(e) {
            const activationModal = document.getElementById('activationModal');
            if (activationModal.style.display === 'block' && e.key === 'Enter') {
                confirmActivation();
            }
        });
    </script>

</body>
</html>

